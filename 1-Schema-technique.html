<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Schéma de l'Application</title>

<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: Arial, sans-serif;
    background: #f5f5f5;
    padding: 20px;
}

/* CONTAINER */
.container {
    max-width: 1400px;
    margin: 0 auto;
    background: white;
    padding: 30px;
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    gap: 30px;
}

/* TITRE */
h1 {
    background: #90EE90;
    padding: 15px;
    text-align: center;
    border-radius: 5px;
    font-size: 20px;
    animation: fadeIn 1s forwards;
}

/* LÉGENDE */
.legend {
    display: flex;
    justify-content: center;
    gap: 40px;
    font-size: 13px;
    font-weight: bold;
    animation: fadeIn 0.8s 0.3s forwards;
}

.legend-item {
    display: flex;
    align-items: center;
    gap: 10px;
}

.legend-arrow {
    width: 50px;
    border-top: 3px solid;
    position: relative;
}

.legend-arrow::after {
    content: '';
    position: absolute;
    right: -8px;
    top: -5px;
    border-left: 10px solid;
    border-top: 5px solid transparent;
    border-bottom: 5px solid transparent;
}

.red { border-color: #FF0000; }
.red::after { border-left-color: #FF0000; }

.blue { border-color: #00CED1; }
.blue::after { border-left-color: #00CED1; }

.orange { border-color: #FFA500; }
.orange::after { border-left-color: #FFA500; }

/* SCHÉMA */
.schema-wrapper {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 40px;
    margin-top: 20px;
}

/* COLONNES */
.column {
    display: flex;
    flex-direction: column;
    gap: 30px;
    align-items: center;
}

/* BOÎTES */
.box {
    width: 100%;
    max-width: 360px;
    border: 2px solid #333;
    border-radius: 8px;
    padding: 15px;
    background: white;
    cursor: pointer;

    opacity: 0;
    transform: translateY(30px);
    animation: slideFade 0.8s forwards;
}

.column:nth-child(1) .box { animation-delay: 0.3s; }
.column:nth-child(2) .box { animation-delay: 0.6s; }
.column:nth-child(3) .box { animation-delay: 0.9s; }

.box:hover {
    box-shadow: 0 8px 20px rgba(0,0,0,0.15);
}

.box-title {
    font-size: 16px;
    font-weight: bold;
    margin-bottom: 8px;
}

/* CONTENU */
.box-summary {
    font-size: 13px;
    font-weight: bold;
}

.details-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.6s ease, opacity 0.4s ease;
    opacity: 0;
    margin-top: 10px;
    font-size: 13px;
    line-height: 1.6;
}

.box.open .details-content {
    max-height: 600px;
    opacity: 1;
}

/* COULEURS */
.frontend, .tests-frontend { background: #FFE4B5; }
.tests-frontend { border-color: #FF8C00; }

.backend { background: #E8F5E8; }
.backend-inner {
    background: #F0FFF0;
    padding: 10px;
    margin-top: 10px;
    border-radius: 5px;
    border: 1px solid #90EE90;
}

.middleware { background: #FFE4E4; }
.middleware-box {
    background: #FFB6C1;
    padding: 8px;
    margin: 10px 0;
    border-radius: 5px;
    font-weight: bold;
    text-align: center;
}

.database, .table-files { background: #E6E6FA; }

.evolution {
    background: #DDA0DD;
    border: 3px dashed #9370DB;
}

/* NOTES */
.footer-notes {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 20px;
}

.note {
    background: #FFFF99;
    padding: 10px 20px;
    border-radius: 5px;
    font-size: 12px;
    font-weight: bold;
    border: 1px solid #E6E600;
}

/* ANIMATIONS */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes slideFade {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
</style>
</head>

<body>

<div class="container">

<h1>Réalisation du schéma de l'application intégrant les choix technologiques</h1>

<div class="legend">
    <div class="legend-item"><div class="legend-arrow red"></div> Sécurité</div>
    <div class="legend-item"><div class="legend-arrow blue"></div> Mon activité</div>
    <div class="legend-item"><div class="legend-arrow orange"></div> Liens tables</div>
</div>

<div class="schema-wrapper">

<!-- GAUCHE -->
<div class="column">
    <div class="box frontend">
        <div class="box-title">Frontend (React)</div>
        <div class="box-summary">Interface utilisateur</div>
        <div class="details-content">
            Pages : Accueil, Login, Register, Profil<br>
            Composants : forms, files_list, auth<br>
            Tests unitaires & intégration
        </div>
    </div>

    <div class="box database">
        <div class="box-title">Database (PostgreSQL)</div>
        <div class="box-summary">Table Users</div>
        <div class="details-content">
            id, email, login, password, picture<br>
            Tests : doublons & cohérence
        </div>
    </div>
</div>

<!-- CENTRE -->
<div class="column">
    <div class="box backend">
        <div class="box-title">Backend API (.NET)</div>
        <div class="box-summary">JWT / CRUD / Sécurité</div>
        <div class="details-content">
            Tests unitaires & intégration<br>
            API Auth / Files / DB<br>
            <div class="backend-inner">
                JWT Bearer, Rate limit, CORS<br>
                Validation des entrées
            </div>
        </div>
    </div>

    <div class="box table-files">
        <div class="box-title">Table Files</div>
        <div class="box-summary">Métadonnées fichiers</div>
        <div class="details-content">
            id, file_name, dates, password<br>
            Tests : doublons
        </div>
    </div>
</div>

<!-- DROITE -->
<div class="column">
    <div class="box middleware">
        <div class="box-title">Middleware</div>
        <div class="box-summary">Auth & Files</div>
        <div class="details-content">
            <div class="middleware-box">Middleware Auth</div>
            Hash mdp, JWT validation
            <div class="middleware-box">Middleware Files</div>
            Upload / Download / Stream
        </div>
    </div>

    <div class="box evolution">
        <div class="box-title">Évolutions</div>
        <div class="box-summary">Scalabilité</div>
        <div class="details-content">
            Nouvelles tables<br>
            Logique métier avancée
        </div>
    </div>
</div>

</div>

<div class="footer-notes">
    <div class="note">Token via cookies</div>
    <div class="note">Protection XSS</div>
</div>

</div>

<script>
document.querySelectorAll('.box').forEach(box => {
    box.addEventListener('click', () => {
        box.classList.toggle('open');
    });
});
</script>

</body>
</html>
