<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Architecture Tests ‚Äì Jest & Testing Library</title>

<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: Arial, sans-serif;
    background: #f0f4f8;
    padding: 20px;
}

.container {
    max-width: 1400px;
    margin: auto;
    background: white;
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.12);
}

/* TITRE */
h1 {
    text-align: center;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 18px;
    border-radius: 8px;
    margin-bottom: 30px;
    animation: fadeIn 1s forwards;
}

/* INTRO */
.intro {
    text-align: center;
    font-size: 15px;
    margin-bottom: 30px;
    color: #333;
}

/* SECTIONS */
.section {
    border: 2px solid #667eea;
    border-radius: 10px;
    margin-bottom: 22px;
    padding: 18px;
    background: #f7f5ff;
    cursor: pointer;
    transition: transform 0.3s, box-shadow 0.3s;
}

.section:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 18px rgba(102, 126, 234, 0.25);
}

.section-title {
    font-size: 18px;
    font-weight: bold;
    color: #4c51bf;
}

/* CONTENU */
.section-content {
    max-height: 0;
    overflow: hidden;
    opacity: 0;
    transition: max-height 0.8s ease, opacity 0.5s ease;
    margin-top: 12px;
    font-size: 14px;
    line-height: 1.7;
}

.section.open .section-content {
    max-height: 900px;
    opacity: 1;
}

/* BADGES */
.badge {
    display: inline-block;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 4px 10px;
    border-radius: 6px;
    font-size: 12px;
    margin-top: 8px;
}

/* LISTES */
ul {
    margin-left: 20px;
    margin-top: 8px;
}

li {
    margin-bottom: 6px;
}

/* CODE BLOCKS */
code {
    background: #edf2f7;
    padding: 2px 6px;
    border-radius: 4px;
    font-family: 'Courier New', monospace;
    font-size: 13px;
    color: #4c51bf;
}

/* FOOTER */
.footer {
    text-align: center;
    margin-top: 30px;
    font-size: 13px;
    color: #555;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}
</style>
</head>

<body>

<div class="container">

<h1>Architecture Tests ‚Äì Jest & Testing Library</h1>

<div class="intro">
    L'architecture de tests repose sur un √©cosyst√®me moderne avec  
    <strong>Jest, React Testing Library et une strat√©gie de tests compl√®te</strong>.
</div>

<!-- SECTION 1 -->
<div class="section">
    <div class="section-title">1Ô∏è‚É£ Framework de tests : Jest</div>
    <div class="section-content">
        <p>Jest est le framework de tests JavaScript int√©gr√© √† React.</p>
        <ul>
            <li>Ex√©cution rapide et parall√©lis√©e des tests</li>
            <li>Snapshots pour d√©tecter les r√©gressions UI</li>
            <li>Mocking int√©gr√© pour isoler les composants</li>
            <li>Coverage automatique avec <code>--coverage</code></li>
        </ul>
        <p>Jest permet de tester unitairement et de mani√®re fiable chaque partie de l'application.</p>
        <span class="badge">Standard React</span>
    </div>
</div>

<!-- SECTION 2 -->
<div class="section">
    <div class="section-title">2Ô∏è‚É£ React Testing Library</div>
    <div class="section-content">
        <p>Testing Library privil√©gie les tests centr√©s sur l'exp√©rience utilisateur.</p>
        <ul>
            <li>Interactions r√©alistes via <code>@testing-library/user-event</code></li>
            <li>S√©lecteurs accessibles (getByRole, getByText)</li>
            <li>Tests du comportement plut√¥t que de l'impl√©mentation</li>
            <li>Matchers personnalis√©s avec <code>@testing-library/jest-dom</code></li>
        </ul>
        <p>Cette approche garantit des tests robustes et maintenables.</p>
        <span class="badge">Best practices</span>
    </div>
</div>

<!-- SECTION 3 -->
<div class="section">
    <div class="section-title">3Ô∏è‚É£ Scripts de tests configur√©s</div>
    <div class="section-content">
        <p>Plusieurs commandes npm facilitent l'ex√©cution des tests.</p>
        <ul>
            <li><code>npm test</code> : ex√©cution compl√®te sans watch</li>
            <li><code>npm run test:perf</code> : tests de performance cibl√©s</li>
            <li><code>npm run test:debug</code> : d√©bogage avec inspection</li>
            <li><code>npm run coverage</code> : rapport de couverture de code</li>
        </ul>
        <p>Ces scripts permettent d'adapter les tests selon le contexte (dev, CI/CD, debug).</p>
        <span class="badge">Flexibilit√©</span>
    </div>
</div>

<!-- SECTION 4 -->
<div class="section">
    <div class="section-title">4Ô∏è‚É£ Mock Service Worker (MSW)</div>
    <div class="section-content">
        <p>MSW intercepte les requ√™tes r√©seau pour simuler l'API backend.</p>
        <ul>
            <li>Simulation r√©aliste des appels HTTP</li>
            <li>Pas de d√©pendance au backend r√©el</li>
            <li>Tests isol√©s et reproductibles</li>
            <li>Gestion des cas d'erreur et timeouts</li>
        </ul>
        <p>MSW garantit des tests fiables m√™me sans connexion au serveur.</p>
        <span class="badge">API Mocking</span>
    </div>
</div>

<!-- SECTION 5 -->
<div class="section">
    <div class="section-title">5Ô∏è‚É£ Configuration Jest & ModuleMapper</div>
    <div class="section-content">
        <p>La configuration Jest g√®re les imports non-JS (CSS, images).</p>
        <ul>
            <li><code>identity-obj-proxy</code> : mock des fichiers CSS/SCSS</li>
            <li><code>fileMock.tsx</code> : mock des assets (SVG, PNG, JPG)</li>
            <li>√âvite les erreurs d'import dans les tests</li>
            <li>Configuration centralis√©e dans package.json</li>
        </ul>
        <p>Cette configuration permet de tester les composants sans erreurs d'imports.</p>
        <span class="badge">Configuration robuste</span>
    </div>
</div>

<!-- SECTION 6 -->
<div class="section">
    <div class="section-title">6Ô∏è‚É£ Tests de performance</div>
    <div class="section-content">
        <p>Des tests d√©di√©s mesurent les performances critiques.</p>
        <ul>
            <li>Pattern <code>**/Perf.*.test.tsx</code> pour identifier les tests perf</li>
            <li>Mesure du temps de rendu des composants</li>
            <li>D√©tection des r√©gressions de performance</li>
            <li>Script d√©di√© : <code>npm run test:perf</code></li>
        </ul>
        <p>Ces tests assurent que l'application reste performante au fil des √©volutions.</p>
        <span class="badge">Optimisation</span>
    </div>
</div>

<!-- SECTION 7 -->
<div class="section">
    <div class="section-title">7Ô∏è‚É£ Couverture de code (Coverage)</div>
    <div class="section-content">
        <p>Le rapport de couverture identifie les parties non test√©es.</p>
        <ul>
            <li>G√©n√©ration automatique avec <code>npm run coverage</code></li>
            <li>M√©triques : statements, branches, functions, lines</li>
            <li>Rapport HTML d√©taill√© pour analyse</li>
            <li>Aide √† maintenir un taux de couverture √©lev√©</li>
        </ul>
        <p>La couverture garantit la qualit√© et la fiabilit√© du code.</p>
        <span class="badge">Qualit√©</span>
    </div>
</div>

<!-- SECTION 8 -->
<div class="section">
    <div class="section-title">8Ô∏è‚É£ TypeScript & typage des tests</div>
    <div class="section-content">
        <p>TypeScript apporte s√©curit√© et clart√© aux tests.</p>
        <ul>
            <li>Types Jest : <code>@types/jest</code></li>
            <li>Autocompl√©tion des matchers et assertions</li>
            <li>D√©tection d'erreurs √† la compilation</li>
            <li>Tests auto-document√©s gr√¢ce au typage</li>
        </ul>
        <p>Le typage rend les tests plus robustes et maintenables.</p>
        <span class="badge">Code s√ªr</span>
    </div>
</div>

<!-- SECTION 9 -->
<div class="section">
    <div class="section-title">9Ô∏è‚É£ Strat√©gie de tests multi-niveaux</div>
    <div class="section-content">
        <p>L'architecture supporte diff√©rents types de tests.</p>
        <ul>
            <li><strong>Tests unitaires</strong> : composants isol√©s</li>
            <li><strong>Tests d'int√©gration</strong> : interaction entre composants</li>
            <li><strong>Tests de performance</strong> : m√©triques de rendu</li>
            <li><strong>Tests de non-r√©gression</strong> : snapshots Jest</li>
        </ul>
        <p>Cette strat√©gie compl√®te assure la qualit√© √† tous les niveaux.</p>
        <span class="badge">Strat√©gie compl√®te</span>
    </div>
</div>

<!-- SECTION 10 -->
<div class="section">
    <div class="section-title">üîü Avantages globaux de cette architecture</div>
    <div class="section-content">
        <ul>
            <li>Tests rapides et fiables avec Jest</li>
            <li>Approche centr√©e utilisateur avec Testing Library</li>
            <li>Ind√©pendance backend gr√¢ce √† MSW</li>
            <li>Scripts adapt√©s √† chaque besoin (dev, CI, debug)</li>
            <li>Configuration TypeScript pour s√©curit√© maximale</li>
        </ul>
        <p>Cette architecture de tests garantit la qualit√©, la stabilit√© et la maintenabilit√© de l'application en production.</p>
        <span class="badge">Production-ready</span>
    </div>
</div>

<div class="footer">
    Pr√©sentation interactive ‚Äì Cliquez sur chaque section pour afficher les d√©tails  
</div>

</div>

<script>
document.querySelectorAll('.section').forEach(section => {
    section.addEventListener('click', () => {
        section.classList.toggle('open');
    });
});
</script>

</body>
</html>